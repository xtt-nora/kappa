<template>
  <Echarts :option="option" />
</template>

<script setup lang="ts">
import { reactive } from "vue";
import Echarts from "@/components/Echarts/index.vue";
import { ECOption } from "@/components/Echarts/config";

const singleData = [
  {
    content: "Horner",
    range: [7, 108],
    column: ["Time", "Pressure"],
    unit: ["hr", "psi"],
    startTime: 0,
    zone: "UTC+08",
    points: [
      ["4.7781657266255", "31.52"],
      ["4.477150206720462", "31.5711"],
      ["4.301073422941239", "31.6204"],
      ["4.176149161126944", "31.6681"],
      ["4.079253622430473", "31.7144"],
      ["4.0000868502120435", "31.7593"],
      ["3.9331545339275653", "31.803"],
      ["3.8751770598144817", "31.8453"],
      ["3.8240390097493924", "31.8865"],
      ["3.778295991088735", "31.9304"],
      ["3.721411399602049", "31.9781"],
      ["3.6711265401953677", "32.0298"],
      ["3.6260684234199068", "32.0856"],
      ["3.5742628297071133", "32.1454"],
      ["3.5231392438278486", "32.2095"],
      ["3.473092207482609", "32.2776"],
      ["3.4243698565743284", "32.3498"],
      ["3.3736850808520304", "32.4256"],
      ["3.3252438479663504", "32.5049"],
      ["3.2734642726212786", "32.5871"],
      ["3.2247861728400364", "32.6718"],
      ["3.1745067623432606", "32.7581"],
      ["3.123666660152342", "32.8455"],
      ["3.0747326265136383", "32.933"],
      ["3.0246244014627135", "33.0197"],
      ["2.974253190556574", "33.1049"],
      ["2.9254854314136707", "33.1875"],
      ["2.8751363468861006", "33.2669"],
      ["2.8252096739647476", "33.3423"],
      ["2.77528954562362", "33.4134"],
      ["2.725176734078378", "33.4796"],
      ["2.6755016548879937", "33.541"],
      ["2.6260911805339178", "33.5973"],
      ["2.576341350205787", "33.649"],
      ["2.526437142677358", "33.6962"],
      ["2.476997604793666", "33.7393"],
      ["2.427302234529051", "33.7789"],
      ["2.3776578070001353", "33.8153"],
      ["2.328016941777014", "33.8492"],
      ["2.2784156865185223", "33.8808"],
      ["2.229180431926383", "33.9106"],
      ["2.1797060972538276", "33.939"],
      ["2.130455013065286", "33.9662"],
      ["2.081095968029454", "33.9925"],
      ["2.0320987906476735", "34.0181"],
      ["1.9830033001966578", "34.0431"],
      ["1.9341931435784452", "34.0676"],
      ["1.8853290744453752", "34.0916"],
      ["1.8367459656494909", "34.1152"],
      ["1.7882935945364733", "34.1382"],
      ["1.7400210574522679", "34.1607"],
      ["1.691960658629523", "34.1825"],
      ["1.6440832994674526", "34.2035"],
      ["1.5964940329391366", "34.2236"],
      ["1.5491417849877913", "34.2426"],
      ["1.5021488465612582", "34.2605"],
      ["1.4554787127696787", "34.2771"],
      ["1.4091501757426763", "34.2924"],
      ["1.3632775884629467", "34.3064"],
      ["1.3178284141804213", "34.3192"],
      ["1.272902676954757", "34.3306"],
      ["1.228519198866934", "34.341"],
      ["1.1847481900773134", "34.3502"],
      ["1.1416179571149214", "34.3586"],
      ["1.0991965222287705", "34.3661"],
      ["1.0575438983181622", "34.3729"],
      ["1.016731826241505", "34.3791"],
      ["0.9768164701841211", "34.3848"],
      ["0.9378520932511555", "34.3901"],
      ["0.9030899869919435", "34.3947"],
      ["0.8724211672254917", "34.3986"],
      ["0.8450980400142568", "34.402"],
      ["0.820555098936731", "34.405"],
      ["0.7983546364719306", "34.4078"],
      ["0.7781512503836436", "34.4102"],
      ["0.7596678446896304", "34.4125"],
      ["0.7426789322214247", "34.4145"],
      ["0.7269987279362623", "34.4164"],
      ["0.7124724747396659", "34.4182"],
      ["0.6989700043360189", "34.4198"],
      ["0.6863808770279982", "34.4213"],
      ["0.6746106584765741", "34.4228"],
      ["0.6635780292471773", "34.4241"],
      ["0.6532125137753437", "34.4254"],
      ["0.6434526764861874", "34.4266"],
      ["0.6342446746993636", "34.4277"],
      ["0.6255410871774852", "34.4288"],
      ["0.6172999578846993", "34.4298"],
      ["0.6094840094071693", "34.4307"],
      ["0.6020599913279624", "34.4317"],
      ["0.5949981368404755", "34.4325"],
      ["0.5882717068423291", "34.4334"],
      ["0.5818566052396754", "34.4342"],
      ["0.5757310526056132", "34.4349"],
      ["0.5698753079565612", "34.4357"],
      ["0.5642714304385625", "34.4364"],
      ["0.5589030742978126", "34.4371"],
      ["0.5537553117534073", "34.4377"],
      ["0.5488144793747373", "34.4383"],
      ["0.5464177046276348", "34.4386"],
      ["0.5440680443502757", "34.4389"]
    ]
  }
];

const option = reactive<ECOption>({
  toolbox: {
    showTitle: false,
    itemSize: 0,
    feature: {
      dataZoom: {
        type: "slider"
      }
    }
  },
  legend: {
    show: true
  },
  brush: {
    throttleType: "debounce",
    throttleDelay: 100,
    toolbox: ["lineX", "lineY"], // 启用 X 轴和 Y 轴的刷选工具
    xAxisIndex: [0], // 允许 x 轴刷选
    yAxisIndex: [0] // 允许 y 轴刷选
  },
  dataZoom: [
    {
      show: false,
      type: "slider",
      start: 0,
      end: 100,
      xAxisIndex: [0]
    },
    {
      show: false,
      type: "slider",
      filterMode: "filter",
      start: 0,
      end: 100,
      yAxisIndex: [0]
    }
  ],
  grid: [
    {
      show: true,
      backgroundColor: "white",
      right: 0,
      top: 0
    }
  ],
  xAxis: [
    {
      id: "half",
      name: "Superposition time",
      nameLocation: "middle",
      nameGap: 30,
      nameTextStyle: {
        color: "#000"
      },
      axisLine: {
        show: true
      },
      axisLabel: {
        show: true,
        color: "black",
        showMaxLabel: false
      },
      axisTick: {
        show: true
      },
      minorTick: {
        show: true
      }
    }
  ],
  yAxis: [
    {
      id: "half",
      name: "Pressure[MPa]",
      nameLocation: "middle",
      nameGap: 45,
      nameTextStyle: {
        color: "#000"
      },
      axisLine: {
        show: true
      },
      axisLabel: {
        show: true,
        color: "black",
        showMaxLabel: false
      },
      axisTick: {
        show: true
      },
      minorTick: {
        show: true
      },
      max: function (value) {
        return Math.floor(value.max * 1.1);
      },
      min: function (value) {
        return Math.floor(value.min * 0.9);
      }
    }
  ],
  series: [
    {
      type: "scatter",
      id: "half",
      symbolSize: 3,
      large: true,
      data: singleData[0].points
    }
  ]
});
</script>

<style scoped></style>
